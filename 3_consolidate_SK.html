<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Arnold Kakas">
<meta name="dcterms.date" content="2024-01-21">

<title>Exploratory data analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="3_consolidate_SK_files/libs/clipboard/clipboard.min.js"></script>
<script src="3_consolidate_SK_files/libs/quarto-html/quarto.js"></script>
<script src="3_consolidate_SK_files/libs/quarto-html/popper.min.js"></script>
<script src="3_consolidate_SK_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="3_consolidate_SK_files/libs/quarto-html/anchor.min.js"></script>
<link href="3_consolidate_SK_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="3_consolidate_SK_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="3_consolidate_SK_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="3_consolidate_SK_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="3_consolidate_SK_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

<script src="3_consolidate_SK_files/libs/kePrint-0.0.1/kePrint.js"></script>
<link href="3_consolidate_SK_files/libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="3_consolidate_SK_files/libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<script src="3_consolidate_SK_files/libs/plotly-binding-4.10.3/plotly.js"></script>
<script src="3_consolidate_SK_files/libs/typedarray-0.1/typedarray.min.js"></script>
<script src="3_consolidate_SK_files/libs/jquery-3.5.1/jquery.min.js"></script>
<link href="3_consolidate_SK_files/libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="3_consolidate_SK_files/libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="3_consolidate_SK_files/libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="3_consolidate_SK_files/libs/plotly-main-2.11.1/plotly-latest.min.js"></script>


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#úvod" id="toc-úvod" class="nav-link active" data-scroll-target="#úvod">Úvod</a></li>
  <li><a href="#čo-je-eda" id="toc-čo-je-eda" class="nav-link" data-scroll-target="#čo-je-eda">Čo je EDA</a></li>
  <li><a href="#úvodné-čistenie-dát" id="toc-úvodné-čistenie-dát" class="nav-link" data-scroll-target="#úvodné-čistenie-dát">Úvodné čistenie dát</a></li>
  <li><a href="#eda" id="toc-eda" class="nav-link" data-scroll-target="#eda">EDA</a></li>
  <li><a href="#záver-a-nasledujúce-kroky" id="toc-záver-a-nasledujúce-kroky" class="nav-link" data-scroll-target="#záver-a-nasledujúce-kroky">Záver a nasledujúce kroky</a></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Exploratory data analysis</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Arnold Kakas </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">January 21, 2024</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="úvod" class="level2">
<h2 class="anchored" data-anchor-id="úvod">Úvod</h2>
<p>V tomto blogu sa budem venovať <strong>Exploratory Data Analysis (EDA)</strong> čiže úvodnej analýze údajov, ktorej cieľom je zistiť aká je kvalita, obsah a štruktúra údajov. V tomto prípade ide o dáta z inzercií nehnuteľností. Dáta sú scrape-nuté z webu <a href="https://www.nehnutelnosti.sk/">Nehnutelnosti</a>. Podrobnejšie som prešiel procesom webscraping-u v mojom predchádzajúcom <a href="">blogovom príspevku</a>.</p>
</section>
<section id="čo-je-eda" class="level2">
<h2 class="anchored" data-anchor-id="čo-je-eda">Čo je EDA</h2>
<p><br> <strong>Exploratory Data Analysis</strong> je neoddeliteľnou súčasťou dátovej analytiky (Data analysis)/dátovej vedy (Data science). <br></p>
<p><centrum><img src="data/EDA.PNG" class="img-fluid" alt="EDA v projekte vedy o údajoch. Zdroj: https://commons.wikimedia.org/wiki/File:Data_visualization_process_v1.png"></centrum></p>

<p><br> Účelom EDA je zhrnúť hlavné charakteristiky súboru údajov (ako kvalita, obsah a štruktúra), objaviť vzorce a vzťahy medzi premennými a identifikovať trendy. Malo by nás to viesť k pochopeniu údajov a identifikácii kritických premenných vzhľadom na naše ciele. Ako je znázornené na obrázku, ide o iteratívny proces. Na základe vašich zistení môžete buď pokračovať v modelovaní/testovaní hypotéz a reportovaní, alebo sa vrátiť k čisteniu/spracovaniu údajov. <br> EDA zvyčajne začína načítaním údajov a kontrolou niekoľkých riadkov, aby ste získali prvotný “pocit” z údajov spolu s kontrolou štruktúry údajov, veľkosti vzorky, typov údajov, chýbajúcich hodnôt atď. Potom pokračujeme podrobnejšou analýzou čo nám pomáha pochopiť vzťahy a identifikovať odľahlé hodnoty a dôležité premenné. V EDA používame rôzne techniky a nástroje. Vo všeobecnosti ich možno rozdeliť do niekoľkých skupín:</p>
<ul>
<li>Súhrnné (jednopremenné) štatistiky - min, max, priemer, medián, kvartily, IQR, štandardná odchýlka, počty, frekvencia atď.</li>
<li>Vizualizácia dát - histogram, boxplot, Paretov graf, bodové grafy, korelačná matica, čiarové grafy (pre časové rady), heatmapy atď.</li>
<li>Bi-/viacpremenné štatistiky - korelácia, t-test, chí-kvadrát test, ANOVA, Kruskal-Wallisov test atď.</li>
</ul>
<p>Na základe zistení vytvoríme záver a buď pokračujeme v projekte, alebo sa vrátime k dodatočnému upratovaniu dát. Je to teda iteratívny proces. <br> Aj keď radšej robím EDA manuálne, existuje niekoľko R knižníc pre automatizované EDA. Sú užitočné pri prvotnom skúmaní údajov a identifikácii napr. dátových typov, premenných s veľkou časťou chýbajúcich hodnôt a iných “high-level” charakteristík. Sú to napríklad:</p>
<ul>
<li>DataExplorer</li>
<li>ExPanDaR</li>
<li>dataMaid</li>
<li>dlookr</li>
</ul>
</section>
<section id="úvodné-čistenie-dát" class="level2">
<h2 class="anchored" data-anchor-id="úvodné-čistenie-dát">Úvodné čistenie dát</h2>
<p><br>Pre načítanie knižníc rád používam funkciu <code>p_load</code> z knižnice <a href="https://cran.r-project.org/web/packages/pacman/index.html">pacman</a>.</p>
<p><br> Nasleduje prvotné čistenie dát. V nasledujúcom kóde spájam 3 rôzne súbory. Keďže sú z rôznych zdrojov, je potrebné niektoré hodnoty upraviť do rovnakého tvaru (prípar názvov obcí). <br> Následne upravujem premenné do správnych typov, odfiltrujem preč záznamy, ktorých hodnoty sú odľahlé alebo úplne chýbajú a nemá zmysel ich imputovať. <br> Nie nevyhnutný je krok preloženia slovenských výrazov do angličtiny. Robím ho jednak z dôvodu, že som zvyknutý pracovať s anglickými výrazmi pri kódovaní a chcem aby aj dataset bol v tomto ohľade konzistentný. Druhým dôvodom je, že budem dataset nahrávať na <a href="https://www.kaggle.com/datasets/arnoldkakas/real-estate-dataset">Kaggle</a>. <br> V poslednom kroku robím dve verzie datasetu. Jedna obsahuje premennú ‘geometry’ typu sfc_MULTIPOLYGON, ktorá robí problém alebo extrémne spomaluje výpočty niektorých sumačných funkciách ak sú aplikované na celý dataset. Preto na všetku EDA budem používať verziu bez nej.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load advertisements data from RDS file</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>advertisements <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"data/advertisements.RDS"</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Clean and restructure advertisements data</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>advertisements <span class="ot">&lt;-</span> advertisements <span class="sc">%&gt;%</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(type_of_real_estate, <span class="fu">c</span>(<span class="st">"type"</span>, <span class="st">"area"</span>), <span class="at">sep =</span> <span class="st">" • "</span>, <span class="at">remove =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(link, type)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Load and process districts mapping data from Excel file</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>districts_mapping <span class="ot">&lt;-</span> openxlsx<span class="sc">::</span><span class="fu">read.xlsx</span>(<span class="st">"data/obce_okresy.xlsx"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">municipality =</span> <span class="fu">str_replace</span>(municipality, <span class="st">"Košice - "</span>, <span class="st">"Košice - mestská časť "</span>),</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">municipality =</span> <span class="fu">str_replace</span>(municipality, <span class="st">"Bratislava - "</span>, <span class="st">"Bratislava - mestská časť "</span>)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Load and process scraped data with geocoding</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>scraped_data <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"data/advertisements_complete_geocoded.RDS"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(link)) <span class="sc">%&gt;%</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(address1, address2, info_text, district, municipality, address)) <span class="sc">%&gt;%</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">quality_of_living =</span> quanlity_of_living) <span class="sc">%&gt;%</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">NAME_NSI =</span> <span class="fu">str_replace</span>(NAME_NSI, <span class="st">"Hodruša-Hámre"</span>, <span class="st">"Hodruša - Hámre"</span>),</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">NAME_NSI =</span> <span class="fu">str_replace</span>(NAME_NSI, <span class="st">"Perín-Chym"</span>, <span class="st">"Perín - Chym"</span>),</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">NAME_NSI =</span> <span class="fu">str_replace</span>(NAME_NSI, <span class="st">"Šaštín-Stráže"</span>, <span class="st">"Šaštín - Stráže"</span>),</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">NAME_NSI =</span> <span class="fu">str_replace</span>(NAME_NSI, <span class="st">"Kostolná-Záriečie"</span>, <span class="st">"Kostolná - Záriečie"</span>)</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Join advertisements and scraped data</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>joined_data <span class="ot">&lt;-</span> scraped_data <span class="sc">%&gt;%</span></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(advertisements, <span class="at">by =</span> <span class="st">"link"</span>, <span class="at">multiple =</span> <span class="st">"first"</span>, <span class="at">keep =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(price)) <span class="sc">%&gt;%</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Convert relevant columns to numeric format</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">pocet_izieb_miestnosti =</span> <span class="fu">as.numeric</span>(pocet_izieb_miestnosti),</span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">uzit_plocha =</span> <span class="fu">str_replace</span>(<span class="fu">str_replace</span>(uzit_plocha, <span class="st">","</span>, <span class="st">"."</span>), <span class="st">" m2"</span>, <span class="st">""</span>),</span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">energie =</span> <span class="fu">str_replace</span>(<span class="fu">str_replace</span>(energie, <span class="st">","</span>, <span class="st">"."</span>), <span class="st">" €/mesiac"</span>, <span class="st">""</span>),</span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">provizia_zahrnuta_v_cene =</span> <span class="fu">str_replace_na</span>(provizia_zahrnuta_v_cene, <span class="st">"Nie"</span>),</span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create a 'rooms' column based on 'type' and handle missing values</span></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">rooms =</span> <span class="fu">case_when</span>(type <span class="sc">==</span> <span class="st">"1 izbový byt"</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>      type <span class="sc">==</span> <span class="st">"2 izbový byt"</span> <span class="sc">~</span> <span class="dv">2</span>,</span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>      type <span class="sc">==</span> <span class="st">"3 izbový byt"</span> <span class="sc">~</span> <span class="dv">3</span>,</span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a>      type <span class="sc">==</span> <span class="st">"4 izbový byt"</span> <span class="sc">~</span> <span class="dv">4</span>,</span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a>      type <span class="sc">==</span> <span class="st">"5 a viac izbový byt"</span> <span class="sc">~</span> <span class="dv">5</span>,</span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a>      type <span class="sc">==</span> <span class="st">"Garsónka"</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a>      type <span class="sc">==</span> <span class="st">"Dvojgarsónka"</span> <span class="sc">~</span> <span class="dv">2</span>,</span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a>      <span class="at">.default =</span> <span class="cn">NA</span></span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">pocet_izieb_miestnosti =</span> <span class="fu">coalesce</span>(pocet_izieb_miestnosti, rooms, pocet_izieb_miestnosti)</span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="fu">c</span>(</span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a>    <span class="st">"index_of_living"</span>,</span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a>    <span class="st">"uzit_plocha"</span>,</span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a>    <span class="st">"energie"</span>,</span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a>    <span class="st">"pocet_nadzemnych_podlazi"</span>,</span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a>    <span class="st">"podlazie"</span>,</span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a>    <span class="st">"pocet_izieb_miestnosti"</span>,</span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a>    <span class="st">"rok_vystavby"</span>,</span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a>    <span class="st">"rok_poslednej_rekonstrukcie"</span>,</span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a>    <span class="st">"pocet_balkonov"</span>,</span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a>    <span class="st">"pocet_lodzii"</span></span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a>  ), as.numeric) <span class="sc">%&gt;%</span></span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>link) <span class="sc">%&gt;%</span></span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(pocet_izieb_miestnosti <span class="sc">&lt;</span> <span class="dv">10</span> <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(pocet_izieb_miestnosti)) <span class="sc">%&gt;%</span></span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="fu">coalesce</span>(type, <span class="fu">case_when</span>(</span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a>      pocet_izieb_miestnosti <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">"1 izbový byt"</span>,</span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true" tabindex="-1"></a>      pocet_izieb_miestnosti <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">"2 izbový byt"</span>,</span>
<span id="cb1-69"><a href="#cb1-69" aria-hidden="true" tabindex="-1"></a>      pocet_izieb_miestnosti <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">"3 izbový byt"</span>,</span>
<span id="cb1-70"><a href="#cb1-70" aria-hidden="true" tabindex="-1"></a>      pocet_izieb_miestnosti <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">"4 izbový byt"</span>,</span>
<span id="cb1-71"><a href="#cb1-71" aria-hidden="true" tabindex="-1"></a>      pocet_izieb_miestnosti <span class="sc">&gt;=</span> <span class="dv">5</span> <span class="sc">~</span> <span class="st">"5 a viac izbový byt"</span></span>
<span id="cb1-72"><a href="#cb1-72" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb1-73"><a href="#cb1-73" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb1-74"><a href="#cb1-74" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>rooms) <span class="sc">%&gt;%</span></span>
<span id="cb1-75"><a href="#cb1-75" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(type <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Apartmán"</span>, <span class="st">"Mezonet"</span>, <span class="st">"Iný byt"</span>, <span class="st">"Loft"</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb1-76"><a href="#cb1-76" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb1-77"><a href="#cb1-77" aria-hidden="true" tabindex="-1"></a>    <span class="at">index =</span> index_of_living,</span>
<span id="cb1-78"><a href="#cb1-78" aria-hidden="true" tabindex="-1"></a>    <span class="at">condition =</span> stav,</span>
<span id="cb1-79"><a href="#cb1-79" aria-hidden="true" tabindex="-1"></a>    <span class="at">area =</span> uzit_plocha,</span>
<span id="cb1-80"><a href="#cb1-80" aria-hidden="true" tabindex="-1"></a>    <span class="at">provision =</span> provizia_zahrnuta_v_cene,</span>
<span id="cb1-81"><a href="#cb1-81" aria-hidden="true" tabindex="-1"></a>    <span class="at">certificate =</span> energeticky_certifikat,</span>
<span id="cb1-82"><a href="#cb1-82" aria-hidden="true" tabindex="-1"></a>    <span class="at">energy_costs =</span> energie,</span>
<span id="cb1-83"><a href="#cb1-83" aria-hidden="true" tabindex="-1"></a>    <span class="at">construction_type =</span> typ_konstrukcie,</span>
<span id="cb1-84"><a href="#cb1-84" aria-hidden="true" tabindex="-1"></a>    <span class="at">year_built =</span> rok_vystavby,</span>
<span id="cb1-85"><a href="#cb1-85" aria-hidden="true" tabindex="-1"></a>    <span class="at">last_reconstruction =</span> rok_poslednej_rekonstrukcie,</span>
<span id="cb1-86"><a href="#cb1-86" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_floors =</span> pocet_nadzemnych_podlazi,</span>
<span id="cb1-87"><a href="#cb1-87" aria-hidden="true" tabindex="-1"></a>    <span class="at">floor =</span> podlazie,</span>
<span id="cb1-88"><a href="#cb1-88" aria-hidden="true" tabindex="-1"></a>    <span class="at">lift =</span> vytah,</span>
<span id="cb1-89"><a href="#cb1-89" aria-hidden="true" tabindex="-1"></a>    <span class="at">balkonies =</span> pocet_balkonov,</span>
<span id="cb1-90"><a href="#cb1-90" aria-hidden="true" tabindex="-1"></a>    <span class="at">loggia =</span> pocet_lodzii,</span>
<span id="cb1-91"><a href="#cb1-91" aria-hidden="true" tabindex="-1"></a>    <span class="at">cellar =</span> pivnica,</span>
<span id="cb1-92"><a href="#cb1-92" aria-hidden="true" tabindex="-1"></a>    <span class="at">orientation =</span> orientacia</span>
<span id="cb1-93"><a href="#cb1-93" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb1-94"><a href="#cb1-94" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb1-95"><a href="#cb1-95" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Recreate 'rooms' column after filtering and handle missing values</span></span>
<span id="cb1-96"><a href="#cb1-96" aria-hidden="true" tabindex="-1"></a>    <span class="at">rooms =</span> <span class="fu">as.numeric</span>(<span class="fu">case_when</span>(</span>
<span id="cb1-97"><a href="#cb1-97" aria-hidden="true" tabindex="-1"></a>      type <span class="sc">==</span> <span class="st">"1 izbový byt"</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb1-98"><a href="#cb1-98" aria-hidden="true" tabindex="-1"></a>      type <span class="sc">==</span> <span class="st">"2 izbový byt"</span> <span class="sc">~</span> <span class="dv">2</span>,</span>
<span id="cb1-99"><a href="#cb1-99" aria-hidden="true" tabindex="-1"></a>      type <span class="sc">==</span> <span class="st">"3 izbový byt"</span> <span class="sc">~</span> <span class="dv">3</span>,</span>
<span id="cb1-100"><a href="#cb1-100" aria-hidden="true" tabindex="-1"></a>      type <span class="sc">==</span> <span class="st">"4 izbový byt"</span> <span class="sc">~</span> <span class="dv">4</span>,</span>
<span id="cb1-101"><a href="#cb1-101" aria-hidden="true" tabindex="-1"></a>      type <span class="sc">==</span> <span class="st">"5 a viac izbový byt"</span> <span class="sc">~</span> <span class="dv">5</span>,</span>
<span id="cb1-102"><a href="#cb1-102" aria-hidden="true" tabindex="-1"></a>      type <span class="sc">==</span> <span class="st">"Garsónka"</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb1-103"><a href="#cb1-103" aria-hidden="true" tabindex="-1"></a>      type <span class="sc">==</span> <span class="st">"Dvojgarsónka"</span> <span class="sc">~</span> <span class="dv">2</span>,</span>
<span id="cb1-104"><a href="#cb1-104" aria-hidden="true" tabindex="-1"></a>      <span class="at">.default =</span> <span class="cn">NA</span></span>
<span id="cb1-105"><a href="#cb1-105" aria-hidden="true" tabindex="-1"></a>    )),</span>
<span id="cb1-106"><a href="#cb1-106" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Transform 'provision' to binary</span></span>
<span id="cb1-107"><a href="#cb1-107" aria-hidden="true" tabindex="-1"></a>    <span class="at">provision =</span> <span class="fu">as.numeric</span>(<span class="fu">case_when</span>(</span>
<span id="cb1-108"><a href="#cb1-108" aria-hidden="true" tabindex="-1"></a>      provision <span class="sc">==</span> <span class="st">"Áno"</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb1-109"><a href="#cb1-109" aria-hidden="true" tabindex="-1"></a>      provision <span class="sc">==</span> <span class="st">"Nie"</span> <span class="sc">~</span> <span class="dv">0</span>,</span>
<span id="cb1-110"><a href="#cb1-110" aria-hidden="true" tabindex="-1"></a>      <span class="at">.default =</span> <span class="cn">NA</span></span>
<span id="cb1-111"><a href="#cb1-111" aria-hidden="true" tabindex="-1"></a>    )),</span>
<span id="cb1-112"><a href="#cb1-112" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Transform 'lift' to binary</span></span>
<span id="cb1-113"><a href="#cb1-113" aria-hidden="true" tabindex="-1"></a>    <span class="at">lift =</span> <span class="fu">as.numeric</span>(<span class="fu">case_when</span>(</span>
<span id="cb1-114"><a href="#cb1-114" aria-hidden="true" tabindex="-1"></a>      lift <span class="sc">==</span> <span class="st">"Áno"</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb1-115"><a href="#cb1-115" aria-hidden="true" tabindex="-1"></a>      <span class="at">.default =</span> <span class="dv">0</span></span>
<span id="cb1-116"><a href="#cb1-116" aria-hidden="true" tabindex="-1"></a>    )),</span>
<span id="cb1-117"><a href="#cb1-117" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Transform 'cellar' to binary</span></span>
<span id="cb1-118"><a href="#cb1-118" aria-hidden="true" tabindex="-1"></a>    <span class="at">cellar =</span> <span class="fu">as.numeric</span>(<span class="fu">case_when</span>(</span>
<span id="cb1-119"><a href="#cb1-119" aria-hidden="true" tabindex="-1"></a>      cellar <span class="sc">==</span> <span class="st">"Áno"</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb1-120"><a href="#cb1-120" aria-hidden="true" tabindex="-1"></a>      <span class="at">.default =</span> <span class="dv">0</span></span>
<span id="cb1-121"><a href="#cb1-121" aria-hidden="true" tabindex="-1"></a>    )),</span>
<span id="cb1-122"><a href="#cb1-122" aria-hidden="true" tabindex="-1"></a>    <span class="at">certificate =</span> <span class="fu">if_else</span>(certificate <span class="sc">==</span> <span class="st">"nemá"</span>, <span class="st">"none"</span>, certificate)</span>
<span id="cb1-123"><a href="#cb1-123" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb1-124"><a href="#cb1-124" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>pocet_izieb_miestnosti) <span class="sc">%&gt;%</span></span>
<span id="cb1-125"><a href="#cb1-125" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb1-126"><a href="#cb1-126" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Convert relevant columns to numeric format</span></span>
<span id="cb1-127"><a href="#cb1-127" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(<span class="fu">c</span>(</span>
<span id="cb1-128"><a href="#cb1-128" aria-hidden="true" tabindex="-1"></a>      <span class="st">"environment"</span>, <span class="st">"safety"</span>, <span class="st">"transport"</span>, <span class="st">"relax"</span>, <span class="st">"quality_of_living"</span>, <span class="st">"services"</span></span>
<span id="cb1-129"><a href="#cb1-129" aria-hidden="true" tabindex="-1"></a>    ), na_if, <span class="st">"0"</span>),</span>
<span id="cb1-130"><a href="#cb1-130" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(<span class="fu">c</span>(</span>
<span id="cb1-131"><a href="#cb1-131" aria-hidden="true" tabindex="-1"></a>      <span class="st">"environment"</span>, <span class="st">"safety"</span>, <span class="st">"transport"</span>, <span class="st">"relax"</span>, <span class="st">"quality_of_living"</span>, <span class="st">"services"</span></span>
<span id="cb1-132"><a href="#cb1-132" aria-hidden="true" tabindex="-1"></a>    ), as.numeric)</span>
<span id="cb1-133"><a href="#cb1-133" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-134"><a href="#cb1-134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-135"><a href="#cb1-135" aria-hidden="true" tabindex="-1"></a><span class="co"># Translating Slovak terms into English</span></span>
<span id="cb1-136"><a href="#cb1-136" aria-hidden="true" tabindex="-1"></a><span class="co"># Define mapping vectors</span></span>
<span id="cb1-137"><a href="#cb1-137" aria-hidden="true" tabindex="-1"></a>original_conditions <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb1-138"><a href="#cb1-138" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Pôvodný stav"</span>, <span class="st">"Čiastočná rekonštrukcia"</span>, <span class="st">"Kompletná rekonštrukcia"</span>,</span>
<span id="cb1-139"><a href="#cb1-139" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Novostavba"</span>, <span class="st">"Vo výstavbe"</span>, <span class="st">"Developerský projekt"</span></span>
<span id="cb1-140"><a href="#cb1-140" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-141"><a href="#cb1-141" aria-hidden="true" tabindex="-1"></a>english_conditions <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb1-142"><a href="#cb1-142" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Original condition"</span>, <span class="st">"Partial reconstruction"</span>, <span class="st">"Complete reconstruction"</span>,</span>
<span id="cb1-143"><a href="#cb1-143" aria-hidden="true" tabindex="-1"></a>  <span class="st">"New building"</span>, <span class="st">"Under construction"</span>, <span class="st">"Development project"</span></span>
<span id="cb1-144"><a href="#cb1-144" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-145"><a href="#cb1-145" aria-hidden="true" tabindex="-1"></a>original_construction_type <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Tehlová"</span>, <span class="st">"Panelová"</span>, <span class="st">"Iná"</span>, <span class="st">"Kvádrová"</span>, <span class="st">"Zmiešaná"</span>, <span class="st">"Panelová, Tehlová"</span>, <span class="st">"Skeletová"</span>, <span class="st">"Tehlová, Železobetónová"</span>, <span class="st">"Kamenná"</span>, <span class="st">"Montovaná"</span>, <span class="st">"Drevená"</span>)</span>
<span id="cb1-146"><a href="#cb1-146" aria-hidden="true" tabindex="-1"></a>english_construction_type <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Brick"</span>, <span class="st">"Panel"</span>, <span class="st">"Other"</span>, <span class="st">"Cube"</span>, <span class="st">"Mixed"</span>, <span class="st">"Panel, Brick"</span>, <span class="st">"Skeletal"</span>, <span class="st">"Brick, Reinforced concrete"</span>, <span class="st">"Stone"</span>, <span class="st">"Mounted"</span>, <span class="st">"Wooden"</span>)</span>
<span id="cb1-147"><a href="#cb1-147" aria-hidden="true" tabindex="-1"></a>original_orientation <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Juhozápadná"</span>, <span class="st">"Južná"</span>, <span class="st">"Západná"</span>, <span class="st">"Východná"</span>, <span class="st">"Juhovýchodná"</span>, <span class="st">"Severovýchodná"</span>, <span class="st">"Severozápadná"</span>, <span class="st">"Severná"</span>)</span>
<span id="cb1-148"><a href="#cb1-148" aria-hidden="true" tabindex="-1"></a>english_orientation <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Southwest"</span>, <span class="st">"South"</span>, <span class="st">"West"</span>, <span class="st">"East"</span>, <span class="st">"Southeast"</span>, <span class="st">"Northeast"</span>, <span class="st">"Northwest"</span>, <span class="st">"North"</span>)</span>
<span id="cb1-149"><a href="#cb1-149" aria-hidden="true" tabindex="-1"></a>original_type <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"3 izbový byt"</span>, <span class="st">"1 izbový byt"</span>, <span class="st">"2 izbový byt"</span>, <span class="st">"4 izbový byt"</span>, <span class="st">"Garsónka"</span>, <span class="st">"5 a viac izbový byt"</span>, <span class="st">"Dvojgarsónka"</span>)</span>
<span id="cb1-150"><a href="#cb1-150" aria-hidden="true" tabindex="-1"></a>english_type <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"3-room apartment"</span>, <span class="st">"1-room apartment"</span>, <span class="st">"2-room apartment"</span>, <span class="st">"4-room apartment"</span>, <span class="st">"Studio"</span>, <span class="st">"5 or more room apartment"</span>, <span class="st">"Two-room apartment"</span>)</span>
<span id="cb1-151"><a href="#cb1-151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-152"><a href="#cb1-152" aria-hidden="true" tabindex="-1"></a><span class="co"># Translate values</span></span>
<span id="cb1-153"><a href="#cb1-153" aria-hidden="true" tabindex="-1"></a>joined_data <span class="ot">&lt;-</span> joined_data <span class="sc">%&gt;%</span></span>
<span id="cb1-154"><a href="#cb1-154" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb1-155"><a href="#cb1-155" aria-hidden="true" tabindex="-1"></a>    <span class="at">condition =</span> <span class="fu">recode</span>(condition, <span class="sc">!!!</span><span class="fu">setNames</span>(english_conditions, original_conditions)),</span>
<span id="cb1-156"><a href="#cb1-156" aria-hidden="true" tabindex="-1"></a>    <span class="at">construction_type =</span> <span class="fu">recode</span>(construction_type, <span class="sc">!!!</span><span class="fu">setNames</span>(english_construction_type, original_construction_type)),</span>
<span id="cb1-157"><a href="#cb1-157" aria-hidden="true" tabindex="-1"></a>    <span class="at">orientation =</span> <span class="fu">recode</span>(orientation, <span class="sc">!!!</span><span class="fu">setNames</span>(english_orientation, original_orientation)),</span>
<span id="cb1-158"><a href="#cb1-158" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="fu">recode</span>(type, <span class="sc">!!!</span><span class="fu">setNames</span>(english_type, original_type))</span>
<span id="cb1-159"><a href="#cb1-159" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-160"><a href="#cb1-160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-161"><a href="#cb1-161" aria-hidden="true" tabindex="-1"></a><span class="co"># Join with districts mapping data</span></span>
<span id="cb1-162"><a href="#cb1-162" aria-hidden="true" tabindex="-1"></a>joined_data <span class="ot">&lt;-</span> joined_data <span class="sc">%&gt;%</span></span>
<span id="cb1-163"><a href="#cb1-163" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(districts_mapping, <span class="fu">join_by</span>(name_nsi <span class="sc">==</span> municipality), <span class="at">keep =</span> <span class="cn">FALSE</span>, <span class="at">multiple =</span> <span class="st">"first"</span>)</span>
<span id="cb1-164"><a href="#cb1-164" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-165"><a href="#cb1-165" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a copy of joined data without geometry information</span></span>
<span id="cb1-166"><a href="#cb1-166" aria-hidden="true" tabindex="-1"></a>joined_data_wo_geom <span class="ot">&lt;-</span> joined_data</span>
<span id="cb1-167"><a href="#cb1-167" aria-hidden="true" tabindex="-1"></a>joined_data_wo_geom<span class="sc">$</span>geometry <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb1-168"><a href="#cb1-168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-169"><a href="#cb1-169" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv2</span>(joined_data_wo_geom, <span class="st">"data/apartments_appraisal.csv"</span>, <span class="at">row.names =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="eda" class="level2">
<h2 class="anchored" data-anchor-id="eda">EDA</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset nav-pills">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" href="">Sumárne informácie o datasete</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false" href="">Cena</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false" href="">Index</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-4" role="tab" aria-controls="tabset-1-4" aria-selected="false" href="">Rozloha</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-5" role="tab" aria-controls="tabset-1-5" aria-selected="false" href="">Typ</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-6-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-6" role="tab" aria-controls="tabset-1-6" aria-selected="false" href="">Certifikát</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-7-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-7" role="tab" aria-controls="tabset-1-7" aria-selected="false" href="">Stav</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-8-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-8" role="tab" aria-controls="tabset-1-8" aria-selected="false" href="">Okres</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-9-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-9" role="tab" aria-controls="tabset-1-9" aria-selected="false" href="">Korelačná matica</a></li></ul>
<div class="tab-content nav-pills">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<p><br> Prvý krok v EDA je pozrieť sa na dáta ako celok. V jazyku R môžeme použiť napr. základnú funkciu <code>summary()</code>. Ja osobne používam rád funkciu <code>skim()</code> z knižnice skimr. Obe poskytujú zhrnutie a deskriptívne štatistiky premenných. Funkcia <code>skim()</code> je však podrobnejšia a vracia aj údaje o type premennej, formátovaní kompletnosti atď.</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-striped table-hover table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">variable</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">missing</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">complete_rate</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">empty</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">unique</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">name_nsi</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">598</td>
</tr>
<tr class="even">
<td style="text-align: left;">condition</td>
<td style="text-align: right;">327</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="odd">
<td style="text-align: left;">certificate</td>
<td style="text-align: right;">8 958</td>
<td style="text-align: right;">0.4</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">8</td>
</tr>
<tr class="even">
<td style="text-align: left;">construction_type</td>
<td style="text-align: right;">13 036</td>
<td style="text-align: right;">0.2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">11</td>
</tr>
<tr class="odd">
<td style="text-align: left;">orientation</td>
<td style="text-align: right;">14 380</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">8</td>
</tr>
<tr class="even">
<td style="text-align: left;">type</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">7</td>
</tr>
<tr class="odd">
<td style="text-align: left;">district</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">79</td>
</tr>
</tbody>
</table>


</div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="table table-striped table-hover table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">variable</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">missing</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">complete_rate</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">mean</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">sd</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">p0</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">p25</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">p50</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">p75</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">p100</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">price</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">165 205.7</td>
<td style="text-align: right;">162 973.6</td>
<td style="text-align: right;">11 500.0</td>
<td style="text-align: right;">99 900.0</td>
<td style="text-align: right;">136 900.0</td>
<td style="text-align: right;">190 000.0</td>
<td style="text-align: right;">9 936 000.0</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">index</td>
<td style="text-align: right;">10 241</td>
<td style="text-align: right;">0.3</td>
<td style="text-align: right;">7.8</td>
<td style="text-align: right;">0.9</td>
<td style="text-align: right;">3.3</td>
<td style="text-align: right;">7.3</td>
<td style="text-align: right;">8.0</td>
<td style="text-align: right;">8.5</td>
<td style="text-align: right;">9.5</td>
<td style="text-align: left;">▁▁▃▇▇</td>
</tr>
<tr class="odd">
<td style="text-align: left;">environment</td>
<td style="text-align: right;">11 271</td>
<td style="text-align: right;">0.3</td>
<td style="text-align: right;">7.8</td>
<td style="text-align: right;">0.9</td>
<td style="text-align: right;">2.7</td>
<td style="text-align: right;">7.3</td>
<td style="text-align: right;">8.0</td>
<td style="text-align: right;">8.4</td>
<td style="text-align: right;">10.0</td>
<td style="text-align: left;">▁▁▂▇▂</td>
</tr>
<tr class="even">
<td style="text-align: left;">quality_of_living</td>
<td style="text-align: right;">11 271</td>
<td style="text-align: right;">0.3</td>
<td style="text-align: right;">8.8</td>
<td style="text-align: right;">0.9</td>
<td style="text-align: right;">2.7</td>
<td style="text-align: right;">8.4</td>
<td style="text-align: right;">9.0</td>
<td style="text-align: right;">9.4</td>
<td style="text-align: right;">10.0</td>
<td style="text-align: left;">▁▁▁▃▇</td>
</tr>
<tr class="odd">
<td style="text-align: left;">safety</td>
<td style="text-align: right;">11 271</td>
<td style="text-align: right;">0.3</td>
<td style="text-align: right;">8.0</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">7.2</td>
<td style="text-align: right;">8.7</td>
<td style="text-align: right;">9.5</td>
<td style="text-align: right;">10.0</td>
<td style="text-align: left;">▁▁▂▃▇</td>
</tr>
<tr class="even">
<td style="text-align: left;">transport</td>
<td style="text-align: right;">11 271</td>
<td style="text-align: right;">0.3</td>
<td style="text-align: right;">8.4</td>
<td style="text-align: right;">1.4</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">7.7</td>
<td style="text-align: right;">8.6</td>
<td style="text-align: right;">9.3</td>
<td style="text-align: right;">10.0</td>
<td style="text-align: left;">▁▁▁▃▇</td>
</tr>
<tr class="odd">
<td style="text-align: left;">services</td>
<td style="text-align: right;">11 271</td>
<td style="text-align: right;">0.3</td>
<td style="text-align: right;">8.0</td>
<td style="text-align: right;">1.6</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">7.2</td>
<td style="text-align: right;">8.4</td>
<td style="text-align: right;">9.2</td>
<td style="text-align: right;">10.0</td>
<td style="text-align: left;">▁▁▂▅▇</td>
</tr>
<tr class="even">
<td style="text-align: left;">relax</td>
<td style="text-align: right;">11 271</td>
<td style="text-align: right;">0.3</td>
<td style="text-align: right;">5.7</td>
<td style="text-align: right;">1.8</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">4.5</td>
<td style="text-align: right;">5.8</td>
<td style="text-align: right;">7.1</td>
<td style="text-align: right;">9.5</td>
<td style="text-align: left;">▃▇▇▇▃</td>
</tr>
<tr class="odd">
<td style="text-align: left;">area</td>
<td style="text-align: right;">716</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">104.7</td>
<td style="text-align: right;">2 589.6</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">51.9</td>
<td style="text-align: right;">65.0</td>
<td style="text-align: right;">77.0</td>
<td style="text-align: right;">209 900.0</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">energy_costs</td>
<td style="text-align: right;">14 423</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">150.6</td>
<td style="text-align: right;">52.3</td>
<td style="text-align: right;">20.0</td>
<td style="text-align: right;">110.0</td>
<td style="text-align: right;">150.0</td>
<td style="text-align: right;">190.0</td>
<td style="text-align: right;">365.0</td>
<td style="text-align: left;">▂▇▅▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">provision</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">0.2</td>
<td style="text-align: right;">0.4</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: left;">▇▁▁▁▂</td>
</tr>
<tr class="even">
<td style="text-align: left;">year_built</td>
<td style="text-align: right;">11 525</td>
<td style="text-align: right;">0.3</td>
<td style="text-align: right;">1 901.7</td>
<td style="text-align: right;">499.1</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">1 971.0</td>
<td style="text-align: right;">1 980.0</td>
<td style="text-align: right;">2 020.0</td>
<td style="text-align: right;">19 741.0</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">last_reconstruction</td>
<td style="text-align: right;">14 721</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">2 018.3</td>
<td style="text-align: right;">6.0</td>
<td style="text-align: right;">1 968.0</td>
<td style="text-align: right;">2 016.0</td>
<td style="text-align: right;">2 020.0</td>
<td style="text-align: right;">2 023.0</td>
<td style="text-align: right;">2 024.0</td>
<td style="text-align: left;">▁▁▁▁▇</td>
</tr>
<tr class="even">
<td style="text-align: left;">total_floors</td>
<td style="text-align: right;">8 117</td>
<td style="text-align: right;">0.5</td>
<td style="text-align: right;">5.6</td>
<td style="text-align: right;">3.7</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">3.0</td>
<td style="text-align: right;">5.0</td>
<td style="text-align: right;">8.0</td>
<td style="text-align: right;">46.0</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">floor</td>
<td style="text-align: right;">7 087</td>
<td style="text-align: right;">0.5</td>
<td style="text-align: right;">3.5</td>
<td style="text-align: right;">2.6</td>
<td style="text-align: right;">-7.0</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">3.0</td>
<td style="text-align: right;">5.0</td>
<td style="text-align: right;">34.0</td>
<td style="text-align: left;">▂▇▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">lift</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">0.3</td>
<td style="text-align: right;">0.4</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: left;">▇▁▁▁▃</td>
</tr>
<tr class="odd">
<td style="text-align: left;">balkonies</td>
<td style="text-align: right;">13 636</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">1.1</td>
<td style="text-align: right;">0.4</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">6.0</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">loggia</td>
<td style="text-align: right;">13 883</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">1.1</td>
<td style="text-align: right;">0.4</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">5.0</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">cellar</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">rooms</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">2.5</td>
<td style="text-align: right;">0.9</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">3.0</td>
<td style="text-align: right;">3.0</td>
<td style="text-align: right;">5.0</td>
<td style="text-align: left;">▃▇▇▂▁</td>
</tr>
</tbody>
</table>


</div>
</div>
<p><br> Prvých/posledných 5 riadkov si zobrazíme pomocou funkcií <code>head()</code> resp. <code>tail()</code> s parametrom 5.</p>
<div class="cell">
<div class="cell-output-display">
<div style="border: 1px solid #ddd; padding: 5px; overflow-x: scroll; width:100%; ">
<table class="table table-striped table-hover table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">name_nsi</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">price</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">index</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">environment</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">quality_of_living</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">safety</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">transport</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">services</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">relax</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">condition</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">area</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">energy_costs</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">provision</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">certificate</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">construction_type</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">orientation</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">year_built</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">last_reconstruction</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">total_floors</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">floor</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">lift</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">balkonies</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">loggia</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">cellar</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">type</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">rooms</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">district</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Semerovo</td>
<td style="text-align: right;">42000</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">Original condition</td>
<td style="text-align: right;">58</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">3-room apartment</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">Nové Zámky</td>
</tr>
<tr class="even">
<td style="text-align: left;">Semerovo</td>
<td style="text-align: right;">42000</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">Original condition</td>
<td style="text-align: right;">58</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">none</td>
<td style="text-align: left;">Brick</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">3-room apartment</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">Nové Zámky</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Štúrovo</td>
<td style="text-align: right;">107000</td>
<td style="text-align: right;">8.3</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">Partial reconstruction</td>
<td style="text-align: right;">40</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">1-room apartment</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">Nové Zámky</td>
</tr>
<tr class="even">
<td style="text-align: left;">Štúrovo</td>
<td style="text-align: right;">105000</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">Complete reconstruction</td>
<td style="text-align: right;">76</td>
<td style="text-align: right;">200</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">3-room apartment</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">Nové Zámky</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Štúrovo</td>
<td style="text-align: right;">82000</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">Partial reconstruction</td>
<td style="text-align: right;">63</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">2018</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">2-room apartment</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">Nové Zámky</td>
</tr>
</tbody>
</table>
</div>

</div>
</div>
<p><br> Náš dataset pozostáva z 27 premenných. 10 je kategorických (kvalitatívnych) a 17 kvantitatívnych. Z tabuliek je hneď vidieť prvý problém, ktorý bude nutné vyriešiť - <strong>chýbajúce dáta</strong>. Tu sa ponúka niekoľko možností ako sa k tomuto problému postaviť:</p>
<ul>
<li><p><em>Odstránenie riadkov alebo stĺpcov s chýbajúcimi hodnotami</em>: Táto metóda je vhodná, ak počet chýbajúcich hodnôt je malý v porovnaní s celkovým počtom hodnôt v dátovom sete. Avšak táto metóda môže viesť k strate informácií a môže ovplyvniť výsledky analýzy.</p></li>
<li><p><em>Imputácia hodnôt</em>: Táto metóda spočíva v nahradení chýbajúcich hodnôt inými hodnotami. Existuje niekoľko spôsobov, ako to dosiahnuť, ako napríklad nahradenie chýbajúcich hodnôt priemerom, mediánom, modusom alebo inými štatistickými metódami. Táto metóda môže byť vhodná, ak počet chýbajúcich hodnôt je relatívne malý a poznáme vlastnosti premennej (napr. rozloženie má veľký vplyv na hodnotu priemeru. Ak premenná obsahuje odľahlé hodnotz, medián je lepšou voľbou). Výhodou týchto metód je rýchlosť aplikovania.</p></li>
<li><p><em>Použitie modelov strojového učenia</em>: Táto metóda spočíva v použití modelov strojového učenia (napr. KNN, LM, Random Forest) na predpovedanie chýbajúcich hodnôt. Táto metóda môže byť vhodná, ak počet chýbajúcich hodnôt je vysoký a ak existuje dostatočné množstvo dát na trénovanie modelu. Ich použitie je tiež vhodné ak predpokladáme komplexné vzťahy medzi premennými a máme niekoľko prediktorov s výrazným vplyvom na premennú s chýbajúcimi hodnotami. Tiež je vhodné zvážit tieto metódy v prípade nelineárnych vzťahov medzi premennými.</p></li>
<li><p><em>Ponechanie chýbajúcich hodnôt</em>: Ponechanie chýbajúcich hodnôt a pristupovanie k nim ako ku špecifickej situácii je tiež možnosťou.</p></li>
</ul>
<p>Druhým problémom, ktorý treba bežne riešiť, je prítomnosť <strong>odľahlých hodnôt (outliers)</strong>. Opäť máme niekoľko možných riešení.</p>
<ul>
<li><p><em>Odstránenie riadkov alebo stĺpcov s odľahlými hodnotami</em>: Keďže počet odľahlých hodnôt je malý (sú to extrémne hodnoty), táto metóda je schodnejšia než bola pri výskyte chýbajúcich hodnôt, ktorých počet je vysoký.</p></li>
<li><p><em>Nahradenie odľahlých hodnôt</em>: Na výber máme z viacerých možností. Priemer, medián, použitie KNN imputácie.</p></li>
<li><p><em>Transformácia</em>: Existuje množstvo metód transformácie dát, ktoré môžeme použit. Veľmi často sa používa <em>logaritmická transformácia</em>, v prípade ktorej aplikujeme logaritmus (najčastejšie prirodzený) na každú hodnotu vo vektore. Ďalšou možnosťou je <em>štandardizácia</em> (z-skóre) ak naše dáta spĺňajú predpoklady pre túto metódu. Použiť môžeme aj <em>winsorizáciu</em>, ktorá sa používa na nahradenie odľahlých hodnôt s hodnotami, ktoré sú bližšie k ostatným hodnotám v datasete (capping/trimming). Môžeme použiť štandardnú winsorizáciu alebo winsorizáciu na základe percentilov. <em>Binning</em> je posledná metóda, ktorú uvediem. Je zaujímavá, lebo jej výsledkom nemusí byť nevyhnutne číselná hodnota, ale kategorická premenná. Pôvodná hodnota sa nahradí intervalom (bin), do ktorého spadá (napr. osoba vo veku 32 rokov spadá do kategórie 30-34). Môže sa však nahradiť aj strednou hodnotou v rámci tohto binu (napr. priemerom 33,2 alebo mediánom 32,9).</p></li>
</ul>
<p><strong>Chýbajúce hodnoty</strong></p>
<p>Ako prvé sa zbavíme stĺpcov, ktoré majú veľmi vysoký počet chýbajúcich záznamov a ich imputácia by mohla skresliť výsledky a spôsobiť nepresnosti v analýze.</p>
<p>Následne môžeme vyriesiť tie prípady, kde imputácia dáva zmysel. <br> Je to napríklad stĺpec index a jeho šesť kategórií: environment, quality_of_living, safety, transport, services a relax. Index môže mať hodnotu od 0 do 10 a pripravuje ho slovenský startup <a href="https://cityperformer.com/">City Performer</a>. Tento údaj nie je k dispozícii pre všetky inzeráty. Môžeme však zoskupiť záznamy podľa obce a chýbajúce hodnoty doplniť priemerom.</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-striped table-hover table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Measure</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Price with index before</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Price with index after</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Price without index before</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Price without index after</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Min.</td>
<td style="text-align: right;">23 000</td>
<td style="text-align: right;">23 000</td>
<td style="text-align: right;">19 200</td>
<td style="text-align: right;">19 200</td>
</tr>
<tr class="even">
<td style="text-align: left;">1st Qu.</td>
<td style="text-align: right;">113 792</td>
<td style="text-align: right;">111 288</td>
<td style="text-align: right;">78 130</td>
<td style="text-align: right;">72 995</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Median</td>
<td style="text-align: right;">153 976</td>
<td style="text-align: right;">145 008</td>
<td style="text-align: right;">105 813</td>
<td style="text-align: right;">99 987</td>
</tr>
<tr class="even">
<td style="text-align: left;">Mean</td>
<td style="text-align: right;">159 949</td>
<td style="text-align: right;">154 151</td>
<td style="text-align: right;">117 100</td>
<td style="text-align: right;">106 715</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3rd Qu.</td>
<td style="text-align: right;">193 002</td>
<td style="text-align: right;">187 453</td>
<td style="text-align: right;">141 992</td>
<td style="text-align: right;">130 131</td>
</tr>
<tr class="even">
<td style="text-align: left;">Max.</td>
<td style="text-align: right;">425 664</td>
<td style="text-align: right;">416 350</td>
<td style="text-align: right;">888 888</td>
<td style="text-align: right;">888 888</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>Ako vidíme, po imputácii sa distribúcia ceny nehnuteľnosti (ako premennej, pre ktorú budeme vytvárať predikčný model) zásadne nezmenila.</p>
<p><strong>Odľahlé hodnoty</strong></p>
<p>Podobne ako pri indexe, odľahlé hodnoty cien nehnuteľností odstraňujeme v kontexte obcí. Dáta agregujeme podľa názvu obce a pokiaľ niektorý záznam presahuje hodnotu mediánu +- 1,5 násobok medzikvartilového rozpätia, tak záznam odstránime.</p>
<p>Niekedy je potrebné ešte zvážiť jednotlivé prípady. Napr. po predchádzajúcom odfiltrovaní niektorých záznamov ostal v datasete záznam s cenou 888 888, celkom určite to nie je skutočná cena a tento riadok zmažeme tiež.</p>
<p>Rozloha tiež obsahuje záznamy, ktoré bude lepšie odstrániť. Keď sa pozrieme na hodnoty prvých a posledných piatich promile, je jasné, že odstraňovať budeme len veľmi malé množstvo záznamov.</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-striped table-hover table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Percentil</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Rozloha</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">0%</td>
<td style="text-align: right;">1.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.1%</td>
<td style="text-align: right;">1.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.2%</td>
<td style="text-align: right;">1.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.3%</td>
<td style="text-align: right;">1.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.4%</td>
<td style="text-align: right;">14.9</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.5%</td>
<td style="text-align: right;">19.0</td>
</tr>
</tbody>
</table>


</div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="table table-striped table-hover table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Percentil</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Rozloha</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">95%</td>
<td style="text-align: right;">94.2</td>
</tr>
<tr class="even">
<td style="text-align: left;">96%</td>
<td style="text-align: right;">98.1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">97%</td>
<td style="text-align: right;">103.5</td>
</tr>
<tr class="even">
<td style="text-align: left;">98%</td>
<td style="text-align: right;">114.1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">99%</td>
<td style="text-align: right;">130.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">100%</td>
<td style="text-align: right;">209 900.0</td>
</tr>
</tbody>
</table>


</div>
</div>
<p><strong>Ostatné faktory</strong></p>
<p>Nasleduje posledné dočistenie dát pred tým, než budeme pokračovať v detailnejšej EDA. V tomto kroku odstraňujeme záznamy z obcí, ktoré majú menej ako 5 inzerátov. Namiesto 5 by sme mohli vzbrať aj iné číslo, ale existuje “rule of thumb”, ktoré tvrdí, že je 93,75% šanca, že medián populácie is medzi najnižšou a najvyššou hodnotou náhodne vybranej vzorky.</p>
<p>Po týchto pár zmenách je stav viditeľne lepší. Ostáva nám niekoľko premenných, ktoré obsahujú chýbajúce záznamy. O tie sa postaráme neskôr pri príprave <strong>ML modelu</strong>.</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-striped table-hover table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">variable</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">missing</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">complete_rate</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">empty</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">unique</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">name_nsi</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">203</td>
</tr>
<tr class="even">
<td style="text-align: left;">condition</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="odd">
<td style="text-align: left;">certificate</td>
<td style="text-align: right;">7 106</td>
<td style="text-align: right;">0.4</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">8</td>
</tr>
<tr class="even">
<td style="text-align: left;">type</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">7</td>
</tr>
<tr class="odd">
<td style="text-align: left;">district</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">72</td>
</tr>
</tbody>
</table>


</div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="table table-striped table-hover table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">variable</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">missing</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">complete_rate</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">mean</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">sd</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">p0</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">p25</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">p50</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">p75</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">p100</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">price</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">149 723.1</td>
<td style="text-align: right;">72 018.2</td>
<td style="text-align: right;">22 997.0</td>
<td style="text-align: right;">99 990.0</td>
<td style="text-align: right;">135 000.0</td>
<td style="text-align: right;">1.8e+05</td>
<td style="text-align: right;">600 000.0</td>
<td style="text-align: left;">▇▆▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">index</td>
<td style="text-align: right;">2 887</td>
<td style="text-align: right;">0.8</td>
<td style="text-align: right;">7.8</td>
<td style="text-align: right;">0.8</td>
<td style="text-align: right;">3.3</td>
<td style="text-align: right;">7.5</td>
<td style="text-align: right;">8.0</td>
<td style="text-align: right;">8.3e+00</td>
<td style="text-align: right;">9.5</td>
<td style="text-align: left;">▁▁▁▇▅</td>
</tr>
<tr class="odd">
<td style="text-align: left;">environment</td>
<td style="text-align: right;">2 921</td>
<td style="text-align: right;">0.8</td>
<td style="text-align: right;">7.9</td>
<td style="text-align: right;">0.8</td>
<td style="text-align: right;">2.7</td>
<td style="text-align: right;">7.5</td>
<td style="text-align: right;">7.8</td>
<td style="text-align: right;">8.4e+00</td>
<td style="text-align: right;">10.0</td>
<td style="text-align: left;">▁▁▁▇▂</td>
</tr>
<tr class="even">
<td style="text-align: left;">quality_of_living</td>
<td style="text-align: right;">2 921</td>
<td style="text-align: right;">0.8</td>
<td style="text-align: right;">8.7</td>
<td style="text-align: right;">0.7</td>
<td style="text-align: right;">2.7</td>
<td style="text-align: right;">8.4</td>
<td style="text-align: right;">8.9</td>
<td style="text-align: right;">9.2e+00</td>
<td style="text-align: right;">10.0</td>
<td style="text-align: left;">▁▁▁▃▇</td>
</tr>
<tr class="odd">
<td style="text-align: left;">safety</td>
<td style="text-align: right;">2 921</td>
<td style="text-align: right;">0.8</td>
<td style="text-align: right;">8.2</td>
<td style="text-align: right;">1.7</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">7.7</td>
<td style="text-align: right;">8.6</td>
<td style="text-align: right;">9.5e+00</td>
<td style="text-align: right;">10.0</td>
<td style="text-align: left;">▁▁▁▅▇</td>
</tr>
<tr class="even">
<td style="text-align: left;">transport</td>
<td style="text-align: right;">2 921</td>
<td style="text-align: right;">0.8</td>
<td style="text-align: right;">8.4</td>
<td style="text-align: right;">1.2</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">7.9</td>
<td style="text-align: right;">8.6</td>
<td style="text-align: right;">8.9e+00</td>
<td style="text-align: right;">10.0</td>
<td style="text-align: left;">▁▁▁▅▇</td>
</tr>
<tr class="odd">
<td style="text-align: left;">services</td>
<td style="text-align: right;">2 921</td>
<td style="text-align: right;">0.8</td>
<td style="text-align: right;">8.0</td>
<td style="text-align: right;">1.3</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">7.4</td>
<td style="text-align: right;">8.3</td>
<td style="text-align: right;">8.8e+00</td>
<td style="text-align: right;">10.0</td>
<td style="text-align: left;">▁▁▂▇▇</td>
</tr>
<tr class="even">
<td style="text-align: left;">relax</td>
<td style="text-align: right;">2 921</td>
<td style="text-align: right;">0.8</td>
<td style="text-align: right;">5.8</td>
<td style="text-align: right;">1.5</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">4.9</td>
<td style="text-align: right;">5.9</td>
<td style="text-align: right;">6.7e+00</td>
<td style="text-align: right;">9.5</td>
<td style="text-align: left;">▂▆▇▇▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">area</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">63.0</td>
<td style="text-align: right;">20.4</td>
<td style="text-align: right;">3.0</td>
<td style="text-align: right;">51.0</td>
<td style="text-align: right;">63.0</td>
<td style="text-align: right;">7.4e+01</td>
<td style="text-align: right;">238.0</td>
<td style="text-align: left;">▃▇▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">provision</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">0.2</td>
<td style="text-align: right;">0.4</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">0.0e+00</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: left;">▇▁▁▁▂</td>
</tr>
<tr class="odd">
<td style="text-align: left;">rooms</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">2.4</td>
<td style="text-align: right;">0.8</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">3.0e+00</td>
<td style="text-align: right;">5.0</td>
<td style="text-align: left;">▃▇▇▂▁</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<p>Cena je hlavná premenná, ktorá nás zaujíma a ktorú budeme neskôr predikovať pomocou natrénovaného ML modelu.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>price1 <span class="ot">&lt;-</span> joined_data_cleaned <span class="sc">%&gt;%</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> price)) <span class="sc">+</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">fill =</span> <span class="st">"steelblue"</span>, <span class="at">binwidth =</span> <span class="dv">10000</span>) <span class="sc">+</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">700000</span>, <span class="at">by =</span> <span class="dv">100000</span>), <span class="at">labels =</span> comma) <span class="sc">+</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Počet"</span>,</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Rozloženie cien nehnuteľností"</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>price2 <span class="ot">&lt;-</span> joined_data_cleaned <span class="sc">%&gt;%</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> price)) <span class="sc">+</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">col =</span> <span class="st">"steelblue"</span>, <span class="at">outlier.alpha =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.y =</span> <span class="fu">element_blank</span>()) <span class="sc">+</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">700000</span>, <span class="at">by =</span> <span class="dv">100000</span>), <span class="at">labels =</span> comma) <span class="sc">+</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Cena"</span>)</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_grid</span>(price1, price2, <span class="at">ncol =</span> <span class="dv">1</span>, <span class="at">align =</span> <span class="st">"v"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="3_consolidate_SK_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Rozloženie hodnôt je asymetrické s pozitívnym (pravostranným) zošikmením. Toto sa dalo očakávať vzľadom na to, že drahé nehnuteľnosti sa nachádzajú v ponuke menej často. V prípade potreby môžeme využiť logaritmickú transformáciu aby sme získali normálne rozdelenie.</p>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<p>Index udáva agregované hodnotenie šiestich rôznych charakteristík miesta, kde sa nehnuteľnosť nachádza.</p>
<p><br> 2887 inzerátov ( 23.1 % zo všetkých) nemá ani po imputácii dostupný tento údaj. <br></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>index1 <span class="ot">&lt;-</span> joined_data_cleaned <span class="sc">%&gt;%</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(index) <span class="sc">%&gt;%</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>() <span class="sc">%&gt;%</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> index)) <span class="sc">+</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">fill =</span> <span class="st">"steelblue"</span>) <span class="sc">+</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Počet"</span>,</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Rozloženie indexu bývania"</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>index2 <span class="ot">&lt;-</span> joined_data_cleaned <span class="sc">%&gt;%</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(index) <span class="sc">%&gt;%</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>() <span class="sc">%&gt;%</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> index)) <span class="sc">+</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">col =</span> <span class="st">"steelblue"</span>, <span class="at">outlier.alpha =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.y =</span> <span class="fu">element_blank</span>()) <span class="sc">+</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Index"</span>)</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_grid</span>(index1, index2, <span class="at">ncol =</span> <span class="dv">1</span>, <span class="at">align =</span> <span class="st">"v"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="3_consolidate_SK_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><br> Na rozdiel od cien, index bývania má negatívne zošikmenie. Priemerná hodnota je 7.8 bodu a medián 8 bodu. Medzi inzerátmi však nájdeme aj hodnoty nižšie ako 4 body. <br> Jednotlivé kategórie, ktoré sa podieľajú na výslednom indexe majú niekoľko spoločných vlasností. Všetky majú medián aj priemer v hornej polovici možných bodov. Je to do istej miery očakávateľné, keďže hodnotenie je zrejme zamerané najmä na mestá a väčšie obce. Je tam jednak dostatok ponúk na trhu s nehnuteľnosťami aby sa vôbec oplatilo venovať mu pozornosť a vzhľadom na veľkú ponuku, a teda pravdepodobne aj dopyt, bude občianska vybavenosť aspoň na uspokojivej úrovni. Zo šiestich kategórií sa mierne odchyľuje “životné prostredie” a celkom evidentne “relax”, pri ktorom ani jedna lokalita nedosiahla maximálny počet bodov.</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-striped table-hover table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Category</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Min</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">1st Qu.</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Median</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Mean</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">3rd Qu.</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Max</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">environment</td>
<td style="text-align: right;">2.7</td>
<td style="text-align: right;">7.5</td>
<td style="text-align: right;">7.8</td>
<td style="text-align: right;">7.9</td>
<td style="text-align: right;">8.4</td>
<td style="text-align: right;">10.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">quality_of_living</td>
<td style="text-align: right;">2.7</td>
<td style="text-align: right;">8.4</td>
<td style="text-align: right;">8.9</td>
<td style="text-align: right;">8.7</td>
<td style="text-align: right;">9.2</td>
<td style="text-align: right;">10.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">safety</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">7.7</td>
<td style="text-align: right;">8.6</td>
<td style="text-align: right;">8.2</td>
<td style="text-align: right;">9.5</td>
<td style="text-align: right;">10.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">transport</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">7.9</td>
<td style="text-align: right;">8.6</td>
<td style="text-align: right;">8.4</td>
<td style="text-align: right;">8.9</td>
<td style="text-align: right;">10.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">services</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">7.4</td>
<td style="text-align: right;">8.3</td>
<td style="text-align: right;">8.0</td>
<td style="text-align: right;">8.8</td>
<td style="text-align: right;">10.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">relax</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">4.9</td>
<td style="text-align: right;">5.9</td>
<td style="text-align: right;">5.8</td>
<td style="text-align: right;">6.7</td>
<td style="text-align: right;">9.5</td>
</tr>
</tbody>
</table>


</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="3_consolidate_SK_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><br>Napriek podobnostiam medzi kategóriami, rozdiely ich hodnôt sú štatisticky významne odlišné (p hodnota &lt; 0.01) a táto odlišnosť je mierna (moderate agreement). Podľa Durbinovho testu párového porovnania sú všetky kategórie navzájom odlišné (podľa Holm adjustovaných p hodnôt).</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="3_consolidate_SK_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><br>Pri pohľade na koreláciu indexu a jeho komponentov s cenou je zaujímavé, že samotný index má nižšiu koreláciu s cenou ako väčšina jednotlivých komponentov. Ak sa pozrieme na tie, tak negatívny vzťah vidíme len pri životnom prostredí, čo do veľkej miery dáva zmysel. Naopak najvyšší pozitívny vzťah s cenou majú relax, služby a transport.</p>
</div>
<div id="tabset-1-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-4-tab">
<p>Rozloha bude zrejme jednou z najpodstatnejších premenných pri predikovaní ceny nehnuteľnosti. Tiež bude úzko súvisieť s typom nehnuteľnosti - viac izieb zväčša znamená väčšiu plochu (ale nie vždy, ako ukazuje histogram). <br></p>
<div class="cell">
<div class="cell-output-display">
<p><img src="3_consolidate_SK_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><br> Podobne ako pri cene, aj teraz môžeme vidieť rozloženie hodnôt s pozitívnym (pravostranným) zošikmením. Dôvodom je podobne ako pri drahých nehnuteľnostiach, že ponuka bytov s veľkou plochou je malá a preto je ich výskyt ojedinelý (hoci nemusí platiť, že drahý byt má nevyhnutne aj veľkú plochu).</p>
</div>
<div id="tabset-1-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-5-tab">
<p><br> V datasete máme 7 typov nehnuteľností:</p>
<ul>
<li>1 izbový byt</li>
<li>2 izbový byt</li>
<li>3 izbový byt</li>
<li>4 izbový byt</li>
<li>5+ izbový byt</li>
<li>Garsónka (“studio apartment”)</li>
<li>Dvojgarsónka (“one-bedroom apartment”)</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="3_consolidate_SK_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><br> Najčastejší typ je 3 izbový byt a v tesnom závese 2 izbový byt. Tretie sú 1 izbové byty avšak v porovnaní s prvými dvoma kategóriami vidíme výrazný prepad v ich počte. <br></p>
<div class="cell">
<div class="cell-output-display">
<p><img src="3_consolidate_SK_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><br> 2 a 3 izbové byty majú veľmi podobné ceny. 3 izby sú samozrejme drahšie, ale rozdiel (najmä keď vezmeme do úvahy zvýšenie ceny z 1 izbových bytov na 2 izbové a z 3 izbových na 4 izbové) je mierny. <br></p>
<div class="cell">
<div class="cell-output-display">

<div id="wqkcxrprfc" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#wqkcxrprfc table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#wqkcxrprfc thead, #wqkcxrprfc tbody, #wqkcxrprfc tfoot, #wqkcxrprfc tr, #wqkcxrprfc td, #wqkcxrprfc th {
  border-style: none;
}

#wqkcxrprfc p {
  margin: 0;
  padding: 0;
}

#wqkcxrprfc .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#wqkcxrprfc .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#wqkcxrprfc .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#wqkcxrprfc .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#wqkcxrprfc .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#wqkcxrprfc .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#wqkcxrprfc .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#wqkcxrprfc .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#wqkcxrprfc .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#wqkcxrprfc .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#wqkcxrprfc .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#wqkcxrprfc .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#wqkcxrprfc .gt_spanner_row {
  border-bottom-style: hidden;
}

#wqkcxrprfc .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#wqkcxrprfc .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#wqkcxrprfc .gt_from_md > :first-child {
  margin-top: 0;
}

#wqkcxrprfc .gt_from_md > :last-child {
  margin-bottom: 0;
}

#wqkcxrprfc .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#wqkcxrprfc .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#wqkcxrprfc .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#wqkcxrprfc .gt_row_group_first td {
  border-top-width: 2px;
}

#wqkcxrprfc .gt_row_group_first th {
  border-top-width: 2px;
}

#wqkcxrprfc .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#wqkcxrprfc .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#wqkcxrprfc .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#wqkcxrprfc .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#wqkcxrprfc .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#wqkcxrprfc .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#wqkcxrprfc .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#wqkcxrprfc .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#wqkcxrprfc .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#wqkcxrprfc .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#wqkcxrprfc .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#wqkcxrprfc .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#wqkcxrprfc .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#wqkcxrprfc .gt_left {
  text-align: left;
}

#wqkcxrprfc .gt_center {
  text-align: center;
}

#wqkcxrprfc .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#wqkcxrprfc .gt_font_normal {
  font-weight: normal;
}

#wqkcxrprfc .gt_font_bold {
  font-weight: bold;
}

#wqkcxrprfc .gt_font_italic {
  font-style: italic;
}

#wqkcxrprfc .gt_super {
  font-size: 65%;
}

#wqkcxrprfc .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#wqkcxrprfc .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#wqkcxrprfc .gt_indent_1 {
  text-indent: 5px;
}

#wqkcxrprfc .gt_indent_2 {
  text-indent: 10px;
}

#wqkcxrprfc .gt_indent_3 {
  text-indent: 15px;
}

#wqkcxrprfc .gt_indent_4 {
  text-indent: 20px;
}

#wqkcxrprfc .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="<strong>Characteristic</strong>"><strong>Characteristic</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>1-room apartment</strong>, N = 1,565"><strong>1-room apartment</strong>, N = 1,565</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>2-room apartment</strong>, N = 4,605"><strong>2-room apartment</strong>, N = 4,605</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>3-room apartment</strong>, N = 4,960"><strong>3-room apartment</strong>, N = 4,960</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>4-room apartment</strong>, N = 921"><strong>4-room apartment</strong>, N = 921</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>5 or more room apartment</strong>, N = 55"><strong>5 or more room apartment</strong>, N = 55</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>Studio</strong>, N = 322"><strong>Studio</strong>, N = 322</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>Two-room apartment</strong>, N = 60"><strong>Two-room apartment</strong>, N = 60</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>p-value</strong><span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>"><strong>p-value</strong><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="label" class="gt_row gt_left">price, Median (IQR)</td>
<td headers="stat_1" class="gt_row gt_center">97,900 (76,900 – 123,000)</td>
<td headers="stat_2" class="gt_row gt_center">133,900 (103,000 – 178,000)</td>
<td headers="stat_3" class="gt_row gt_center">145,000 (112,000 – 189,999)</td>
<td headers="stat_4" class="gt_row gt_center">185,000 (140,990 – 244,900)</td>
<td headers="stat_5" class="gt_row gt_center">220,000 (163,500 – 364,000)</td>
<td headers="stat_6" class="gt_row gt_center">75,300 (55,000 – 99,960)</td>
<td headers="stat_7" class="gt_row gt_center">128,750 (69,675 – 150,743)</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">area, Median (IQR)</td>
<td headers="stat_1" class="gt_row gt_center">37 (33 – 40)</td>
<td headers="stat_2" class="gt_row gt_center">55 (50 – 62)</td>
<td headers="stat_3" class="gt_row gt_center">72 (66 – 78)</td>
<td headers="stat_4" class="gt_row gt_center">85 (80 – 96)</td>
<td headers="stat_5" class="gt_row gt_center">108 (95 – 148)</td>
<td headers="stat_6" class="gt_row gt_center">24 (20 – 28)</td>
<td headers="stat_7" class="gt_row gt_center">43 (40 – 48)</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
  </tbody>
  
  <tfoot class="gt_footnotes">
    <tr>
      <td class="gt_footnote" colspan="9"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span> Kruskal-Wallis rank sum test</td>
    </tr>
  </tfoot>
</table>
</div>
</div>
</div>
<p><br> Kruskal-Wallis rank sum test potvrdzuje, že existujú rozdiely v cenách a rozlohe medzi jednotlivými typmi bytov, ktoré nie sú náhodné.</p>
</div>
<div id="tabset-1-6" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-6-tab">
<p><br> Energetický certifikát budovy (ECB) je právny dokument, ktorý hodnotí budovy z hľadiska energetickej efektívnosti a emisií oxidu uhličitého, čo vedie k ich klasifikácii v energetických stupniciach z najúčinnejšej triedy A po nehospodárnu triedu G. <br> Energetický certifikát hodnotí budovy z hľadiska 4 bodov spotreby energie:</p>
<ul>
<li>Tepelná ochrana budov</li>
<li>Energetické požiadavky na zahrievanie a prípravu horúcej vody</li>
<li>Energetická potreba klimatizácie, klimatizácia</li>
<li>Energetická potreba na osvetlenia</li>
</ul>
<p>Na základe týchto spotrebných bodov ECB prepočítava požadované množstvo energie v kWh / m² ročne pre celú budovu pre celú budovu. <br></p>
<div class="cell">
<div class="cell-output-display">
<p><img src="3_consolidate_SK_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><br> 0.6% inzerovaných bytov nemá uvedený energetický certifikát. Skoro 0.3% má explicitne uvedené, že takýto certifikát nemá. Najhoršie certifikáty D až F sú zastúpené veľmi málo. <br></p>
<div class="cell">
<div class="cell-output-display">
<p><img src="3_consolidate_SK_files/figure-html/unnamed-chunk-33-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><br> Box-plot graf pekne ilustruje vzťah medzi úrovňou certifikátu a cenou. S klesajúcou úrovňou certifikátu klesá aj cena. Z grafu je tiež vidno, že ak certifikát chýba (nie je uvedený), nemôžeme automaticky uvažovať, že ho inzerovaný byt nemá. Preto aj tieto hodnoty budú imputované pri príprave ML modelu. <br></p>
<div class="cell">
<div class="cell-output-display">

<div id="ktamqtcscx" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#ktamqtcscx table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#ktamqtcscx thead, #ktamqtcscx tbody, #ktamqtcscx tfoot, #ktamqtcscx tr, #ktamqtcscx td, #ktamqtcscx th {
  border-style: none;
}

#ktamqtcscx p {
  margin: 0;
  padding: 0;
}

#ktamqtcscx .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ktamqtcscx .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#ktamqtcscx .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ktamqtcscx .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ktamqtcscx .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ktamqtcscx .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ktamqtcscx .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ktamqtcscx .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ktamqtcscx .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ktamqtcscx .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ktamqtcscx .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ktamqtcscx .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ktamqtcscx .gt_spanner_row {
  border-bottom-style: hidden;
}

#ktamqtcscx .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#ktamqtcscx .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ktamqtcscx .gt_from_md > :first-child {
  margin-top: 0;
}

#ktamqtcscx .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ktamqtcscx .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ktamqtcscx .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#ktamqtcscx .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ktamqtcscx .gt_row_group_first td {
  border-top-width: 2px;
}

#ktamqtcscx .gt_row_group_first th {
  border-top-width: 2px;
}

#ktamqtcscx .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ktamqtcscx .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ktamqtcscx .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ktamqtcscx .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ktamqtcscx .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ktamqtcscx .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ktamqtcscx .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#ktamqtcscx .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ktamqtcscx .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ktamqtcscx .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ktamqtcscx .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ktamqtcscx .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ktamqtcscx .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ktamqtcscx .gt_left {
  text-align: left;
}

#ktamqtcscx .gt_center {
  text-align: center;
}

#ktamqtcscx .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ktamqtcscx .gt_font_normal {
  font-weight: normal;
}

#ktamqtcscx .gt_font_bold {
  font-weight: bold;
}

#ktamqtcscx .gt_font_italic {
  font-style: italic;
}

#ktamqtcscx .gt_super {
  font-size: 65%;
}

#ktamqtcscx .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#ktamqtcscx .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ktamqtcscx .gt_indent_1 {
  text-indent: 5px;
}

#ktamqtcscx .gt_indent_2 {
  text-indent: 10px;
}

#ktamqtcscx .gt_indent_3 {
  text-indent: 15px;
}

#ktamqtcscx .gt_indent_4 {
  text-indent: 20px;
}

#ktamqtcscx .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="<strong>Characteristic</strong>"><strong>Characteristic</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>A</strong>, N = 1,115"><strong>A</strong>, N = 1,115</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>B</strong>, N = 884"><strong>B</strong>, N = 884</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>C</strong>, N = 141"><strong>C</strong>, N = 141</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>D</strong>, N = 20"><strong>D</strong>, N = 20</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>E</strong>, N = 7"><strong>E</strong>, N = 7</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>F</strong>, N = 2"><strong>F</strong>, N = 2</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>G</strong>, N = 63"><strong>G</strong>, N = 63</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>none</strong>, N = 3,150"><strong>none</strong>, N = 3,150</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>p-value</strong><span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>"><strong>p-value</strong><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="label" class="gt_row gt_left">price, Median (IQR)</td>
<td headers="stat_1" class="gt_row gt_center">163,500 (132,498 – 218,667)</td>
<td headers="stat_2" class="gt_row gt_center">138,950 (103,000 – 189,923)</td>
<td headers="stat_3" class="gt_row gt_center">114,900 (92,990 – 152,000)</td>
<td headers="stat_4" class="gt_row gt_center">88,400 (57,500 – 142,993)</td>
<td headers="stat_5" class="gt_row gt_center">96,000 (66,000 – 130,995)</td>
<td headers="stat_6" class="gt_row gt_center">107,900 (107,350 – 108,450)</td>
<td headers="stat_7" class="gt_row gt_center">103,500 (74,995 – 134,235)</td>
<td headers="stat_8" class="gt_row gt_center">120,000 (91,000 – 159,375)</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
  </tbody>
  
  <tfoot class="gt_footnotes">
    <tr>
      <td class="gt_footnote" colspan="10"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span> Kruskal-Wallis rank sum test</td>
    </tr>
  </tfoot>
</table>
</div>
</div>
</div>
<p><br> Kruskal-Wallis rank sum test potvrdzuje, že existuje rozdiel v cenách medzi jednotlivými certifikátmi, ktorý nie je náhodný.</p>
</div>
<div id="tabset-1-7" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-7-tab">
<div class="cell">
<div class="cell-output-display">
<p><img src="3_consolidate_SK_files/figure-html/unnamed-chunk-35-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><br> Najbežnejší stav ponúkaných nehnuteľností sú Kompletná rekonštrukcia, Čiastočná rekonštrukcia a Novostavba. Nasleduje výraznejší prepad na štvrté miesto, kde sa nachádzajú byty v pôvodnom stave. <br></p>
<div class="cell">
<div class="cell-output-display">
<p><img src="3_consolidate_SK_files/figure-html/unnamed-chunk-36-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Medzi jednotlivými stavmi sú zjavné rozdiely v cene. Najvyššie hodnoty sú v troch kategóriách: Vo výstavbe, novostavba a developerský projekt. Nie je veľkým prekvapením, že nové a ešte nedokončené byty sú najdrahšie. Naopak najlacnejšie sú pôvodný stav a čiastočná rekonštrukcia. Uprostred sa nachádzajú byty s kompletnou rekonštrukciou. Všetky stavy majú odľahlé hodnoty vo vyšších cenových rozpätiach, rozloženie je pozitívne zošikmené. <br></p>
<div class="cell">
<div class="cell-output-display">

<div id="aazdcfbcgu" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#aazdcfbcgu table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#aazdcfbcgu thead, #aazdcfbcgu tbody, #aazdcfbcgu tfoot, #aazdcfbcgu tr, #aazdcfbcgu td, #aazdcfbcgu th {
  border-style: none;
}

#aazdcfbcgu p {
  margin: 0;
  padding: 0;
}

#aazdcfbcgu .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#aazdcfbcgu .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#aazdcfbcgu .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#aazdcfbcgu .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#aazdcfbcgu .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#aazdcfbcgu .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#aazdcfbcgu .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#aazdcfbcgu .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#aazdcfbcgu .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#aazdcfbcgu .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#aazdcfbcgu .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#aazdcfbcgu .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#aazdcfbcgu .gt_spanner_row {
  border-bottom-style: hidden;
}

#aazdcfbcgu .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#aazdcfbcgu .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#aazdcfbcgu .gt_from_md > :first-child {
  margin-top: 0;
}

#aazdcfbcgu .gt_from_md > :last-child {
  margin-bottom: 0;
}

#aazdcfbcgu .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#aazdcfbcgu .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#aazdcfbcgu .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#aazdcfbcgu .gt_row_group_first td {
  border-top-width: 2px;
}

#aazdcfbcgu .gt_row_group_first th {
  border-top-width: 2px;
}

#aazdcfbcgu .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#aazdcfbcgu .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#aazdcfbcgu .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#aazdcfbcgu .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#aazdcfbcgu .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#aazdcfbcgu .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#aazdcfbcgu .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#aazdcfbcgu .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#aazdcfbcgu .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#aazdcfbcgu .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#aazdcfbcgu .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#aazdcfbcgu .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#aazdcfbcgu .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#aazdcfbcgu .gt_left {
  text-align: left;
}

#aazdcfbcgu .gt_center {
  text-align: center;
}

#aazdcfbcgu .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#aazdcfbcgu .gt_font_normal {
  font-weight: normal;
}

#aazdcfbcgu .gt_font_bold {
  font-weight: bold;
}

#aazdcfbcgu .gt_font_italic {
  font-style: italic;
}

#aazdcfbcgu .gt_super {
  font-size: 65%;
}

#aazdcfbcgu .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#aazdcfbcgu .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#aazdcfbcgu .gt_indent_1 {
  text-indent: 5px;
}

#aazdcfbcgu .gt_indent_2 {
  text-indent: 10px;
}

#aazdcfbcgu .gt_indent_3 {
  text-indent: 15px;
}

#aazdcfbcgu .gt_indent_4 {
  text-indent: 20px;
}

#aazdcfbcgu .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="<strong>Characteristic</strong>"><strong>Characteristic</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>Complete reconstruction</strong>, N = 3,773"><strong>Complete reconstruction</strong>, N = 3,773</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>Development project</strong>, N = 54"><strong>Development project</strong>, N = 54</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>New building</strong>, N = 3,057"><strong>New building</strong>, N = 3,057</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>Original condition</strong>, N = 1,854"><strong>Original condition</strong>, N = 1,854</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>Partial reconstruction</strong>, N = 3,439"><strong>Partial reconstruction</strong>, N = 3,439</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>Under construction</strong>, N = 308"><strong>Under construction</strong>, N = 308</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>p-value</strong><span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>"><strong>p-value</strong><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="label" class="gt_row gt_left">price, Median (IQR)</td>
<td headers="stat_1" class="gt_row gt_center">134,900 (102,950 – 178,000)</td>
<td headers="stat_2" class="gt_row gt_center">164,904 (146,100 – 192,271)</td>
<td headers="stat_3" class="gt_row gt_center">169,900 (132,500 – 222,900)</td>
<td headers="stat_4" class="gt_row gt_center">112,700 (85,000 – 149,990)</td>
<td headers="stat_5" class="gt_row gt_center">117,500 (89,900 – 153,000)</td>
<td headers="stat_6" class="gt_row gt_center">184,950 (139,968 – 263,875)</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">area, Median (IQR)</td>
<td headers="stat_1" class="gt_row gt_center">64 (50 – 73)</td>
<td headers="stat_2" class="gt_row gt_center">59 (43 – 68)</td>
<td headers="stat_3" class="gt_row gt_center">59 (49 – 74)</td>
<td headers="stat_4" class="gt_row gt_center">65 (55 – 75)</td>
<td headers="stat_5" class="gt_row gt_center">64 (52 – 73)</td>
<td headers="stat_6" class="gt_row gt_center">58 (51 – 76)</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
  </tbody>
  
  <tfoot class="gt_footnotes">
    <tr>
      <td class="gt_footnote" colspan="8"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span> Kruskal-Wallis rank sum test</td>
    </tr>
  </tfoot>
</table>
</div>
</div>
</div>
<p><br> Kruskal-Wallis rank sum test potvrdzuje, že existujú rozdiely v cenách a rozlohe medzi jednotlivými stavmi bytov, ktoré nie sú náhodné. Zaujímavé je, že novšie byty (Novostavba, developerský projekt) majú menšiu plochu ako staršie byty (teda tie, ktoré majú stav úplná alebo čiastočná rekonštrukcia, resp. pôvodný stav)</p>
</div>
<div id="tabset-1-8" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-8-tab">
<p>Regionálne rozdiely na Slovensku majú v mnohých sociokultúrnych aspektoch západo-východný gradient. Najmä južná časť stredného Slovenska patrí medzi najmenej rozvinuté regióny. Preto je rozumné očakávať rovnaký vzorec aj v cenách bytov. <br></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>top_bottom_10_districts <span class="ot">&lt;-</span> joined_data_cleaned <span class="sc">%&gt;%</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(district) <span class="sc">%&gt;%</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">price =</span> <span class="fu">mean</span>(price, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">adverts_count =</span> <span class="fu">n</span>()</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">between</span>(<span class="fu">dense_rank</span>(price), <span class="dv">10</span> <span class="sc">+</span> <span class="dv">1</span>, <span class="fu">n</span>() <span class="sc">-</span> <span class="dv">10</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(price))</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>mean_price <span class="ot">&lt;-</span> <span class="fu">mean</span>(joined_data_cleaned<span class="sc">$</span>price, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>top_10_districts_chart <span class="ot">&lt;-</span> top_bottom_10_districts <span class="sc">%&gt;%</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(district, <span class="sc">-</span>price), <span class="at">y =</span> price, <span class="at">text =</span> <span class="fu">paste0</span>(</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Priemerná cena: "</span>,</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">format</span>(<span class="fu">round</span>(price, <span class="dv">0</span>), <span class="at">big.mark =</span> <span class="st">" "</span>),</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>, <span class="st">"Počet inzerátov:"</span>, <span class="fu">format</span>(<span class="fu">round</span>(adverts_count, <span class="dv">0</span>), <span class="at">big.mark =</span> <span class="st">" "</span>)</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>  ))) <span class="sc">+</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"summary"</span>, <span class="at">fun.y =</span> <span class="st">"mean"</span>, <span class="at">fill =</span> <span class="st">"steelblue"</span>) <span class="sc">+</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>)) <span class="sc">+</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">350000</span>, <span class="at">by =</span> <span class="dv">50000</span>), <span class="at">labels =</span> comma) <span class="sc">+</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> mean_price, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span> <span class="co"># dashed line is median price</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Okres"</span>,</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Priemerná cena"</span></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(top_10_districts_chart, <span class="at">tooltip =</span> <span class="st">"text"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-70f586d35b95712d579d" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-70f586d35b95712d579d">{"x":{"data":[{"orientation":"v","width":[0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.89999999999999947,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],"y":[324546.95370370371,213828.74159663866,205225.95757575758,194044.31314878893,192282.73758865247,186980.7751004016,174758.40946502058,166745.16,159377.40077821011,155646.52029520296,76709.414285714287,72966.666666666672,70610.022900763361,70470,70349.135135135133,66585.733333333337,62086.625,50264.599999999999,48837,45859.454545454544],"text":["Priemerná cena: 324 547<br />Počet inzerátov:  540","Priemerná cena: 213 829<br />Počet inzerátov:  476","Priemerná cena: 205 226<br />Počet inzerátov:  660","Priemerná cena: 194 044<br />Počet inzerátov:1 156","Priemerná cena: 192 283<br />Počet inzerátov:  564","Priemerná cena: 186 981<br />Počet inzerátov:  249","Priemerná cena: 174 758<br />Počet inzerátov:  486","Priemerná cena: 166 745<br />Počet inzerátov:  175","Priemerná cena: 159 377<br />Počet inzerátov:  257","Priemerná cena: 155 647<br />Počet inzerátov:  271","Priemerná cena:  76 709<br />Počet inzerátov:   70","Priemerná cena:  72 967<br />Počet inzerátov:    9","Priemerná cena:  70 610<br />Počet inzerátov:  131","Priemerná cena:  70 470<br />Počet inzerátov:   27","Priemerná cena:  70 349<br />Počet inzerátov:   37","Priemerná cena:  66 586<br />Počet inzerátov:   45","Priemerná cena:  62 087<br />Počet inzerátov:   40","Priemerná cena:  50 265<br />Počet inzerátov:   15","Priemerná cena:  48 837<br />Počet inzerátov:    7","Priemerná cena:  45 859<br />Počet inzerátov:   11"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(70,130,180,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.40000000000000002,20.600000000000001],"y":[149723.10393978219,149723.10393978219],"text":"","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(255,0,0,1)","dash":"dash"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.228310502283104,"r":7.3059360730593621,"b":74.956356961893121,"l":66.484018264840202},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,20.600000000000001],"tickmode":"array","ticktext":["Bratislava I","Bratislava III","Bratislava IV","Bratislava II","Bratislava V","Košice I","Senec","Pezinok","Piešťany","Poprad","Partizánske","Snina","Lučenec","Rožňava","Trebišov","Rimavská Sobota","Veľký Krtíš","Revúca","Medzilaborce","Poltár"],"tickvals":[1,2,3,4.0000000000000009,5,6.0000000000000009,7,8,9,10,11,12.000000000000002,13,14.000000000000002,15,16,17,18,19,20],"categoryorder":"array","categoryarray":["Bratislava I","Bratislava III","Bratislava IV","Bratislava II","Bratislava V","Košice I","Senec","Pezinok","Piešťany","Poprad","Partizánske","Snina","Lučenec","Rožňava","Trebišov","Rimavská Sobota","Veľký Krtíš","Revúca","Medzilaborce","Poltár"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-45,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"Okres","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-16227.347685185186,340774.30138888891],"tickmode":"array","ticktext":["0","50,000","100,000","150,000","200,000","250,000","300,000"],"tickvals":[1.8189894035458565e-12,50000,100000.00000000001,150000,200000,250000.00000000003,300000],"categoryorder":"array","categoryarray":["0","50,000","100,000","150,000","200,000","250,000","300,000"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Priemerná cena","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"258c14d77fa":{"x":{},"y":{},"text":{},"type":"bar"},"258c1952159b":{"yintercept":{}}},"cur_data":"258c14d77fa","visdat":{"258c14d77fa":["function (y) ","x"],"258c1952159b":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><br>Najdrahšie byty sú zo západného Slovenska s výnimkou okresu Košice I, ktoré je centrom na východe. Na druhej strane 9 z 10 okresov sa nachádza v južnej a vo východnej časti republiky. Tu je potrebné poznamenať, že väčšina týchto okresov má veľmi nízky počet záznamov (inzerátov). To nám môže povedať dve veci:</p>
<ul>
<li>Nízke ceny môžu byť spôsobené náhodou (čo však zrejme nebude pravda, cena bude odrážať širšie ekonomické súvislosti)</li>
<li>Realitný trh v tejto časti Slovenska je málo rozvinutý.</li>
</ul>
<p>Na Mape nižšie vidíme zobrazené priemerné ceny v obciach (resp. mestských častiach) s aspoň piatimi inzerovanými bytmi.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="3_consolidate_SK_files/figure-html/unnamed-chunk-39-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-1-9" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-9-tab">
<p><br></p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">price</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">index</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">environment</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">quality_of_living</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">safety</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">transport</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">services</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">relax</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">area</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">provision</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">rooms</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">price</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">.</td>
<td style="text-align: right;">.</td>
<td style="text-align: right;">.</td>
<td style="text-align: right;">.</td>
<td style="text-align: right;">.</td>
<td style="text-align: right;">.</td>
<td style="text-align: right;">.</td>
<td style="text-align: right;">.</td>
<td style="text-align: right;">.</td>
<td style="text-align: right;">.</td>
</tr>
<tr class="even">
<td style="text-align: left;">index</td>
<td style="text-align: right;">.10</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">.</td>
<td style="text-align: right;">.</td>
<td style="text-align: right;">.</td>
<td style="text-align: right;">.</td>
<td style="text-align: right;">.</td>
<td style="text-align: right;">.</td>
<td style="text-align: right;">.</td>
<td style="text-align: right;">.</td>
<td style="text-align: right;">.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">environment</td>
<td style="text-align: right;">-.28</td>
<td style="text-align: right;">-.04</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">.</td>
<td style="text-align: right;">.</td>
<td style="text-align: right;">.</td>
<td style="text-align: right;">.</td>
<td style="text-align: right;">.</td>
<td style="text-align: right;">.</td>
<td style="text-align: right;">.</td>
<td style="text-align: right;">.</td>
</tr>
<tr class="even">
<td style="text-align: left;">quality_of_living</td>
<td style="text-align: right;">.22</td>
<td style="text-align: right;">.65</td>
<td style="text-align: right;">-.10</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">.</td>
<td style="text-align: right;">.</td>
<td style="text-align: right;">.</td>
<td style="text-align: right;">.</td>
<td style="text-align: right;">.</td>
<td style="text-align: right;">.</td>
<td style="text-align: right;">.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">safety</td>
<td style="text-align: right;">.11</td>
<td style="text-align: right;">.80</td>
<td style="text-align: right;">-.24</td>
<td style="text-align: right;">.45</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">.</td>
<td style="text-align: right;">.</td>
<td style="text-align: right;">.</td>
<td style="text-align: right;">.</td>
<td style="text-align: right;">.</td>
<td style="text-align: right;">.</td>
</tr>
<tr class="even">
<td style="text-align: left;">transport</td>
<td style="text-align: right;">.23</td>
<td style="text-align: right;">.60</td>
<td style="text-align: right;">-.28</td>
<td style="text-align: right;">.56</td>
<td style="text-align: right;">.42</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">.</td>
<td style="text-align: right;">.</td>
<td style="text-align: right;">.</td>
<td style="text-align: right;">.</td>
<td style="text-align: right;">.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">services</td>
<td style="text-align: right;">.21</td>
<td style="text-align: right;">.83</td>
<td style="text-align: right;">-.25</td>
<td style="text-align: right;">.64</td>
<td style="text-align: right;">.83</td>
<td style="text-align: right;">.51</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">.</td>
<td style="text-align: right;">.</td>
<td style="text-align: right;">.</td>
<td style="text-align: right;">.</td>
</tr>
<tr class="even">
<td style="text-align: left;">relax</td>
<td style="text-align: right;">.20</td>
<td style="text-align: right;">.83</td>
<td style="text-align: right;">-.24</td>
<td style="text-align: right;">.53</td>
<td style="text-align: right;">.81</td>
<td style="text-align: right;">.47</td>
<td style="text-align: right;">.88</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">.</td>
<td style="text-align: right;">.</td>
<td style="text-align: right;">.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">area</td>
<td style="text-align: right;">.47</td>
<td style="text-align: right;">.01</td>
<td style="text-align: right;">.00</td>
<td style="text-align: right;">.01</td>
<td style="text-align: right;">.01</td>
<td style="text-align: right;">.01</td>
<td style="text-align: right;">.00</td>
<td style="text-align: right;">.02</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">.</td>
<td style="text-align: right;">.</td>
</tr>
<tr class="even">
<td style="text-align: left;">provision</td>
<td style="text-align: right;">-.05</td>
<td style="text-align: right;">.02</td>
<td style="text-align: right;">.00</td>
<td style="text-align: right;">.01</td>
<td style="text-align: right;">.02</td>
<td style="text-align: right;">.00</td>
<td style="text-align: right;">.02</td>
<td style="text-align: right;">.04</td>
<td style="text-align: right;">-.01</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">rooms</td>
<td style="text-align: right;">.38</td>
<td style="text-align: right;">.01</td>
<td style="text-align: right;">-.01</td>
<td style="text-align: right;">.02</td>
<td style="text-align: right;">.01</td>
<td style="text-align: right;">-.01</td>
<td style="text-align: right;">.01</td>
<td style="text-align: right;">.01</td>
<td style="text-align: right;">.84</td>
<td style="text-align: right;">.00</td>
<td style="text-align: right;">1</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
</div>
</div>
</section>
<section id="záver-a-nasledujúce-kroky" class="level2">
<h2 class="anchored" data-anchor-id="záver-a-nasledujúce-kroky">Záver a nasledujúce kroky</h2>
<p><br> <strong>EDA</strong> nám poskytla cenné poznatky, ktoré budú zohľadnené v predikčnom modeli:</p>
<ul>
<li>Rozloženie cien je vychýlené doprava - ponuky drahých bytov sú obmedzené</li>
<li>Geopriestorové rozloženie má západ-východný gradient - nižšie ceny sú na východe a juhu, s výnimkou niekoľkých regionálnych centier.</li>
<li>Väčšina miest v našom datasete má pomerne vysokú úroveň indexu bývania. Vo všeobecnosti existuje pozitívny vzťah medzi jeho hodnotou a cenou.</li>
<li>Existujú preukázané rozdiely medzi cenami bytov s rôznymi stavmi. Nie je prekvapujúce, že nové byty majú najvyššie ceny.</li>
<li>Podobný efekt vidíme pri energetickom certifikáte. Počet chýbajúcich údajov je v tomto prípade vzsoký a budeme ho riešiť imputáciou.</li>
<li>Veľká väčšina bytov v súbore má 2 a 3 izby. Cena rastie s rastúcou veľkostnou triedou. Zvýšenie ceny z 2 izbovej na 3 izbovú skupinu je v však priemere dosť nízke. Dva možné dôvody sú - dopyt po 2 izbových bytoch (keďže sú stále lacnejšie ako 3 izbové) a lokalita. Ak by sa väčšina 2-izbových bytov nachádzala na západe, ich cena by bola v priemere za celú krajinu vyššia v porovnaní s rovnomerným priestorovým rozložením.</li>
</ul>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>